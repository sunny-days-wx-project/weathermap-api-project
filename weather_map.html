<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WeatherMap API Project</title>

    <!-- Bootstrap style sheet follows-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- Mapbox style sheet follows-->
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.8.2/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.8.2/mapbox-gl.css' rel='stylesheet' />
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />

    <!-- CSS Styling may go here or in separate file-->
    <style>
    #row-header {
        background-color: blue;
        color: white;
        font-family: Helvetica, sans-serif;
    }
    #map {
        border: 2px solid black;
        width: 800px;
        height: 600px;
        box-shadow: 1px 1px;
    }
    </style>

</head>
<body>
    <!--Header Starts Here-->
        <div class="container-fluid">
            <div class="row" id="row-header">
                <div class="col-8  d-flex align-items-center mb-0"><h1 class="mb-0">Weather App</h1></div>
                <div class="col-4 d-flex align-items-center justify-content-end"><p class="mb-0">Current City: San Antonio</p></div>
            </div> <!--End of row-header-->
        </div> <!-- End of this container-->

    <!--Search Bar starts here-->
        <div class="container-fluid">
            <div class="row d-flex align-items-center" id="row-form">
            <form class="form-inline m-0 py-3">

                    <input type="test" class="form-control mx-2" id="location" placeholder="City, State">

                <button type="submit" class="btn btn-primary ml-2">Find</button>
            </form>
            </div> <!--End of row-form div-->
        </div> <!--End of this container-->

    <!--5 Day Forecast Cards Starts here-->
        <div class="container-fluid">
            <div class="row p-2 d-flex justify-content-between">

                <!--Day 1 Card-->
                <div class="card">
                    <div class="card-header" id="date1">Featured</div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Cras justo odio</li>
                        <li class="list-group-item">Dapibus ac facilisis in</li>
                        <li class="list-group-item">Vestibulum at eros</li>
                    </ul>
                </div> <!--End of day's forecast card-->

                <!--Day 2 Card-->
                <div class="card">
                    <div class="card-header" id="date2">Featured</div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Cras justo odio</li>
                        <li class="list-group-item">Dapibus ac facilisis in</li>
                        <li class="list-group-item">Vestibulum at eros</li>
                    </ul>
                </div> <!--End of day's forecast card-->

                <!--Day 3 Card-->
                <div class="card">
                    <div class="card-header" id="date3">Featured</div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Cras justo odio</li>
                        <li class="list-group-item">Dapibus ac facilisis in</li>
                        <li class="list-group-item">Vestibulum at eros</li>
                    </ul>
                </div> <!--End of day's forecast card-->

                <!--Day 4 Card-->
                <div class="card">
                    <div class="card-header" id="date4">Featured</div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Cras justo odio</li>
                        <li class="list-group-item">Dapibus ac facilisis in</li>
                        <li class="list-group-item">Vestibulum at eros</li>
                    </ul>
                </div> <!--End of day's forecast card-->

                <!--Day 5 Card-->
                <div class="card">
                    <div class="card-header" id="date5">Featured</div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Cras justo odio</li>
                        <li class="list-group-item">Dapibus ac facilisis in</li>
                        <li class="list-group-item">Vestibulum at eros</li>
                    </ul>
                </div> <!--End of day's forecast card-->
            </div>
        </div>

    <!--Map Viewport Starts Here-->
    <div class="container-fluid">
        <div class="row d-flex justify-content-center py-2">
            <div id='map' class="m-auto"></div>
        </div>
    </div>

    <!-- Mapbox JS -->
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>

    <!-- AJAX library addition (need AJAX to run AJAX)-->
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

    <script>
        //====================================================
        // Query for CURRENT wx in SATX w/ ajax GET request
        // Console logged the response with .done() method to view data
        $.get("http://api.openweathermap.org/data/2.5/weather", {
            APPID: openWeatherMapAPIkey,
            q:     "San Antonio, US",
            units: "imperial"
        }).done(function(data) {
            console.log(data);
        });
        //====================================================

        //====================================================
        // Query for FORECASTED wx in SATX w/ ajax GET request
        $.get("http://api.openweathermap.org/data/2.5/forecast", {
            APPID: openWeatherMapAPIkey,
            q:     "San Antonio, US", //also able to use lat/lon or cityID from database file
            units: "imperial"
        }).done(function(data) {
            console.log('5 day forecast', data);
        });
        //====================================================

        //====================================================
        // 'One Call API' is a single request for 'all essential weather data' in SATX
        $.get("http://api.openweathermap.org/data/2.5/onecall", {
            APPID: openWeatherMapAPIkey,
            q:     "San Antonio, US",
            units: "imperial"
        }).done(function(data) {
            console.log('The entire response:', data);
            console.log('Diving in - here is current information: ', data.current);
            console.log('A step further - information for tomorrow: ', data.daily[1]);
        });
        //====================================================

        mapboxgl.accessToken = 'pk.eyJ1IjoibGF1cmEtY29kZXVwIiwiYSI6ImNrcHJjczFyYTBtMHIyb2xlNDBsanlva2EifQ.rXUs9LI80u-fy9wz-bG0Qw';
        // my personal created token below
        var accessToken = 'pk.eyJ1IjoiZGVyZWtiZXJrbGV5IiwiYSI6ImNsMnFteTlidjAxNmYzYnVocHRycHlqM24ifQ.Z28GcH4GAsjBOS4jyREK1Q';
        let map = new mapboxgl.Map({
            container: 'map', // container ID
            style: 'mapbox://styles/mapbox/streets-v11', // style URL
            //TODO: Generate a map that shows the city with your favorite restaurant using geocoding.
            center: [-98, 30], // starting position [lng, lat]
            zoom: 9 // starting zoom
        });
    </script>

<!--============================================================-->
    <!-- link to the JS file for API key to be held separately-->
    <script src = "../IdeaProjects/weathermap-api-project/keys.js">
    <!--jQuery Library follows (always at the end of the body, but before Bootstrap)-->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <!--Bootstrap Library follows-->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<!--============================================================-->

</body>
</html>